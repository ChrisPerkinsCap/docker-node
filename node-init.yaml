version: '3.4'

services:

  setup-node:

    container_name: node-init

    command: npm init ${PROJECT_TYPE} ${PROJECT_NAME}

    build:
      context: ./
      dockerfile: node-init.Dockerfile
      args:
        maintainer: ${MAINTAINER}
        version: ${VERSION}

    image: ${REPO}/node-init:${VERSION}

    ports:
      - "8080:8080"

    volumes:
      - type: bind
        source: ./project
        target: /usr/src/app